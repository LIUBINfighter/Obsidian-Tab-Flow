## AlphaTab 控制组件功能概览

| 功能类别      | 组件名称            | 功能描述                                                                                                  | 核心交互对象/属性                                                                             | 状态/事件依赖                                                                                                                                    |
|:-------------:|:-------------------:|:---------------------------------------------------------------------------------------------------------:|:---------------------------------------------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------:|
| **播放控制**  | `PlayPauseButton`   | 切换乐谱的播放和暂停状态。显示播放或暂停图标。                                                            | `alphaTabApi.playPause()`                                                                     | `alphaTabApi.playerStateChanged` (更新播放/暂停状态),<br>`alphaTabApi.scoreLoaded` (控制禁用状态)                                                 |
|               | `StopButton`        | 停止乐谱的播放。显示停止图标。                                                                            | `alphaTabApi.stop()`                                                                          | `alphaTabApi.scoreLoaded` (控制禁用状态)                                                                                                          |
|               | `LoopButton`        | 切换乐谱的循环播放模式。显示循环开启/关闭图标。                                                           | `alphaTabApi.isLooping`                                                                       | 初始加载时同步 `isLooping` 状态                                                                                                                   |
|               | `CountInButton`     | 切换播放前数拍 (Count-in) 功能的开启/关闭。显示数拍开启/关闭图标。                                        | `alphaTabApi.countInVolume`                                                                   | 初始加载时同步 `countInVolume` 状态                                                                                                               |
|               | `MetronomeButton`   | 切换节拍器功能的开启/关闭。显示节拍器开启/关闭图标。                                                      | `alphaTabApi.metronomeVolume`                                                                 | 初始加载时同步 `metronomeVolume` 状态                                                                                                             |
|               | `SpeedControl`      | 通过下拉菜单选择乐谱的播放速度 (例如 0.25x 到 2x)。                                                       | `alphaTabApi.playbackSpeed`                                                                   | `alphaTabApi.score` (控制禁用状态)                                                                                                                |
| **显示/视图** | `LayoutControl`     | 通过下拉菜单切换乐谱的显示布局模式 (例如水平布局或分页布局)。                                             | `alphaTabApi.settings.display.layoutMode`,<br>`updateSettings()`,<br>`render()`               | 初始加载时同步 `layoutMode` 状态                                                                                                                  |
|               | `ZoomControl`       | 通过下拉菜单选择乐谱的缩放比例 (例如 25% 到 200%)。                                                       | `alphaTabApi.settings.display.scale`,<br>`updateSettings()`,<br>`render()`                    | 初始加载时同步 `scale` 状态                                                                                                                       |
|               | `SingleTrack`       | 通过下拉菜单选择只显示特定音轨或显示所有音轨。                                                            | `alphaTabApi.renderTracks()`,<br>`alphaTabApi.score.tracks`                                   | `alphaTabApi.scoreLoaded` (更新音轨列表),<br>`alphaTabApi.renderStarted` (更新已渲染音轨状态)，<br>可能与其他组件通过事件（如 `track-selected`）联动。 |
|               | `ShortInfo`         | 显示乐谱的标题和艺术家信息。<br>**（此组件逻辑上假定内容由 AlphaTab 库直接填充 DOM，自身无直接 API 交互）** | (无直接 API 交互)                                                                             | 无                                                                                                                                                 |
|               | `TimePosition`      | 显示乐谱当前播放时间与总时长 (格式为 MM:SS)。                                                             | `alphaTabApi.score.duration`                                                                  | `alphaTabApi.playerPositionChanged` (更新当前时间/总时长),<br>`alphaTabApi.scoreLoaded` (获取总时长)                                               |
| **文件操作**  | `DownloadButton`    | 下载当前加载的乐谱为 `.gp` 格式文件。                                                                     | `alphaTabApi.score`,<br>`alphaTab.exporter.Gp7Exporter`                                       | `alphaTabApi.scoreLoaded` (控制禁用状态)                                                                                                          |
|               | `PrintButton`       | 打印当前加载的乐谱。                                                                                      | `alphaTabApi.print()`,<br>`window.print()`                                                    | 无                                                                                                                                                 |
| **主题/样式** | `DarkTheme`         | 切换应用整体的亮色/暗色主题。显示太阳/月亮图标。<br>当 `StyleControl` 存在时，与之联动。                   | `customStyleEnabled` (共享状态),<br>`toggleCustomStyle` (共享函数),<br>`applyTheme()` (外部工具) | 检查 DOM 中 `.style-selector` 元素是否存在，<br>与 `StyleControl` 共享状态和方法                                                                  |
|               | `StyleControl`      | 提供多种预设主题样式（如默认、暗色、深海蓝、炫彩夜晚）的下拉选择器。<br>与 `DarkTheme` 共享状态。           | `customStyleEnabled` (共享状态),<br>`applyTheme()` (外部工具)                                 | `customStyleEnabled` (监听 `DarkTheme` 状态变化),<br>检查 `alphatab-custom-style` DOM 元素以推断初始主题                                           |

---
